var Hell=Hell||{};Hell.BootState={init:function(){this.game.stage.backgroundColor="#fff",this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.pageAlignHorizontally=!0,this.scale.pageAlignVertically=!0,this.game.physics.startSystem(Phaser.Physics.ARCADE)},preload:function(){this.load.image("preloadbar","img/preloader-bar.png")},create:function(){this.state.start("Preload")}},Hell.PreloadState={preload:function(){this.preloadBar=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"preloadbar"),this.preloadBar.anchor.setTo(.5),this.preloadBar.scale.setTo(3),this.load.setPreloadSprite(this.preloadBar),this.load.image("platform","img/platform.png"),this.load.image("goal","img/goal.png"),this.load.image("enemy","img/enemy.png"),this.load.spritesheet("player","img/player_spritesheet.png",100,150)},create:function(){this.state.start("Game")}};var Hell=Hell||{};Hell.GameState={init:function(){this.RUNNING_SPEED=300,this.JUMPING_SPEED=675,this.game.physics.arcade.gravity.y=1e3,this.cursors=this.game.input.keyboard.createCursorKeys(),this.upBtn=this.game.input.keyboard.addKey(Phaser.Keyboard.W),this.leftBtn=this.game.input.keyboard.addKey(Phaser.Keyboard.A),this.rightBtn=this.game.input.keyboard.addKey(Phaser.Keyboard.D),this.downBtn=this.game.input.keyboard.addKey(Phaser.Keyboard.S)},create:function(){this.loadLevel()},update:function(){this.game.physics.arcade.collide(this.player,this.platform),this.player.body.velocity.x=0,this.cursors.left.isDown||this.leftBtn.isDown?(this.player.body.velocity.x=-this.RUNNING_SPEED,this.player.scale.setTo(-1,1),this.player.play("walking")):this.cursors.right.isDown||this.rightBtn.isDown?(this.player.body.velocity.x=this.RUNNING_SPEED,this.player.scale.setTo(1,1),this.player.play("walking")):(this.player.animations.stop(),this.player.frame=0),(this.cursors.up.isDown||this.upBtn.isDown)&&(this.player.body.blocked.down||this.player.body.touching.down)&&(this.player.body.velocity.y=-this.JUMPING_SPEED)},loadLevel:function(){this.player=this.add.sprite(this.game.world.centerX,this.game.world.centerY-200,"player",0),this.player.anchor.setTo(.5),this.player.animations.add("walking",[0,1,2,1],20,!0),this.game.physics.arcade.enable(this.player),this.player.customParams={},this.player.body.collideWorldBounds=!0,this.platform=this.add.sprite(50,600,"platform"),this.game.physics.arcade.enable(this.platform),this.platform.body.allowGravity=!1,this.platform.body.immovable=!0,this.game.camera.follow(this.player)}};var Hell=Hell||{};Hell.game=new Phaser.Game(720,720,Phaser.AUTO,"game-canvas"),Hell.game.state.add("Boot",Hell.BootState),Hell.game.state.add("Preload",Hell.PreloadState),Hell.game.state.add("Game",Hell.GameState),Hell.game.state.start("Boot");